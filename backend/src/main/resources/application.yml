management:
  endpoints:
    web:
      cors:
        allowed-origins: "http://localhost:4201"
        allowed-methods: GET,POST,PUT,DELETE,OPTIONS
        allowed-headers: "*"
        allow-credentials: true

  endpoint:
    health:
      show-details: when_authorized
    metrics:
      show-details: when_authorized
      enabled: true
    info:
      enabled: true
      show-details: when_authorized 

# Variaveis de ambiente podem ser usadas para configurar os valores sensíveis
supabase:
  url: ${SUPABASE_URL:https://your-supabase-project.supabase.co}
  anon-key: ${SUPABASE_ANON_KEY:your_anon_key}
  jwt:
    issuer-uri: ${supabase.url}/auth/v1

spring:
  application:
    name: secretaria-digital-backend

  # Configuração do banco de dados
  datasource:
    url: jdbc:postgresql://${DB_HOST}:${DB_PORT}/${DB_NAME}
    username: ${DB_USER:your_username}
    password: ${DB_PASSWORD:your_password}
    driver-class-name: org.postgresql.Driver

  # Configuração do JPA / Hibernate
  jpa:
    hibernate:
      ddl-auto: none  # ou create, update (cuidado em prod!)
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        jdbc:
          time_zone: UTC
        format_sql: true
    show-sql: false  # true em dev para debug
  devtools:
    restart:
      enabled: true
    livereload:
      enabled: true
  # Configuração do servidor web
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: ${supabase.jwt.issuer-uri}

logging:
  level:
    org.springframework.security: DEBUG
    org.hibernate.SQL: DEBUG